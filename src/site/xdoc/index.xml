<?xml version="1.0" encoding="UTF-8"?>
<document>
	<properties>
		<title>Introduction</title>
	</properties>

	<meta name="keyword" content="maven, mvn"/>

	<body>
		<section name="Introduction">
            <p>
				This is a Maven2 extension of maven-plugin-plugin that allows writing Annotated Plug-in Mojos
                using JDK 1.5+ annotations instead of doclet comments.<br/>
				This has a couple of benefits over using JavaDoc-style annotations:
                <ul>
                    <li>You will get compile-time checks for your plugin metadata.</li>
                    <li>You can use annotations on interface getter methods instead of field annotations,
                    which allows for greater flexibility in your plugin object model.</li>
                    <li>Since JDK 1.5 annotations are supported in most IDEs,
                        you will benefit from code-completion and syntactic checks.</li>
                </ul>
				Enjoy.
			</p>
		</section>
		<section name="Prerequisites">
            <ol>
                <li>JDK 5.0 or later</li>
                <li>Maven 2.0.5 or later</li>
                <li>maven-plugin-plugin 2.2 or later</li>
            </ol>
		</section>
		<section name="Settings">
            <h3>download zip repository</h3>
            <p>
				Use the download link to get from sourceforge the zip of a maven2 format repository
                containing Maven Anno Mojo artifacts.<br/>
                If you are using <a href="/sites/artifactory/latest/index.html">Artifactory</a>,
                the Web UI page "import/export" emables to import this zip directly into Artifactory.
			</p>
            <h3>jfrog repository</h3>
            <p>
				You can also configure a maven repository with the following URL:
                http://www.jfrog.org/artifactory/plugins-releases<br/>
                to retrieve the latest version of maven anno mojo.
            </p>

            <h3>POM configuration</h3>
            <p><div>
<pre style="line-height: 130%;font-family:monospace;background-color:#ffffff; border-width:0.01mm; border-color:#000000; border-style:solid; padding:4px;"><span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">project</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">    </span><span style="background-color:#ffffff;font-weight:bold;">...
</span><span style="background-color:#ffffff;">    </span><span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">dependencies</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">        </span><span style="background-color:#ffffff;font-weight:bold;">...
</span><span style="background-color:#ffffff;">        </span><span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">dependency</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">            </span><span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">groupId</span><span style="background-color:#efefef;">&gt;</span><span style="background-color:#ffffff;font-weight:bold;">org.jfrog.maven.annomojo</span><span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">groupId</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">            </span><span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">artifactId</span><span style="background-color:#efefef;">&gt;</span><span style="background-color:#ffffff;font-weight:bold;">maven-plugin-anno</span><span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">artifactId</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">            </span><span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">version</span><span style="background-color:#efefef;">&gt;</span><span style="background-color:#ffffff;font-weight:bold;">1.3.1</span><span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">version</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">        </span><span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">dependency</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">        </span><span style="background-color:#ffffff;font-weight:bold;">...
</span><span style="background-color:#ffffff;">    </span><span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">dependencies</span><span style="background-color:#efefef;">&gt;

</span><span style="background-color:#ffffff;">    </span><span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">build</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">        </span><span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">plugins</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">            </span><span style="background-color:#ffffff;font-weight:bold;">...
</span><span style="background-color:#ffffff;">            </span><span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">plugin</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">                </span><span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">groupId</span><span style="background-color:#efefef;">&gt;</span><span style="background-color:#ffffff;font-weight:bold;">org.apache.maven.plugins</span><span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">groupId</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">                </span><span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">artifactId</span><span style="background-color:#efefef;">&gt;</span><span style="background-color:#ffffff;font-weight:bold;">maven-plugin-plugin</span><span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">artifactId</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">                </span><span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">version</span><span style="background-color:#efefef;">&gt;</span><span style="background-color:#ffffff;font-weight:bold;">2.3</span><span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">version</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">                </span><span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">dependencies</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">                    </span><span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">dependency</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">                        </span><span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">groupId</span><span style="background-color:#efefef;">&gt;</span><span style="background-color:#ffffff;font-weight:bold;">org.jfrog.maven.annomojo</span><span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">groupId</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">                        </span><span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">artifactId</span><span style="background-color:#efefef;">&gt;</span><span style="background-color:#ffffff;font-weight:bold;">maven-plugin-tools-anno</span><span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">artifactId</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">                        </span><span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">version</span><span style="background-color:#efefef;">&gt;</span><span style="background-color:#ffffff;font-weight:bold;">1.3.1</span><span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">version</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">                        </span><span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">scope</span><span style="background-color:#efefef;">&gt;</span><span style="background-color:#ffffff;font-weight:bold;">runtime</span><span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">scope</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">                    </span><span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">dependency</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">                </span><span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">dependencies</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">            </span><span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">plugin</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">            </span><span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">plugin</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">                </span><span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">groupId</span><span style="background-color:#efefef;">&gt;</span><span style="background-color:#ffffff;font-weight:bold;">org.apache.maven.plugins</span><span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">groupId</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">                </span><span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">artifactId</span><span style="background-color:#efefef;">&gt;</span><span style="background-color:#ffffff;font-weight:bold;">maven-compiler-plugin</span><span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">artifactId</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">                </span><span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">configuration</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">                    </span><span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">source</span><span style="background-color:#efefef;">&gt;</span><span style="background-color:#ffffff;font-weight:bold;">1.5</span><span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">source</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">                    </span><span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">target</span><span style="background-color:#efefef;">&gt;</span><span style="background-color:#ffffff;font-weight:bold;">1.5</span><span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">target</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">                </span><span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">configuration</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">            </span><span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">plugin</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">            </span><span style="background-color:#ffffff;font-weight:bold;">...
</span><span style="background-color:#ffffff;">        </span><span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">plugins</span><span style="background-color:#efefef;">&gt;
</span><span style="background-color:#ffffff;">    </span><span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">build</span><span style="background-color:#efefef;">&gt;
&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">project</span><span style="background-color:#efefef;">&gt;
</span></pre>
            </div></p>
<!--
<project>
    ...
    <dependencies>
        ...
        <dependency>
            <groupId>org.jfrog.maven.annomojo</groupId>
            <artifactId>maven-plugin-anno</artifactId>
            <version>1.3.1</version>
        </dependency>
        ...
    </dependencies>

    <build>
        <plugins>
            ...
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-plugin-plugin</artifactId>
                <version>2.3</version>
                <dependencies>
                    <dependency>
                        <groupId>org.jfrog.maven.annomojo</groupId>
                        <artifactId>maven-plugin-tools-anno</artifactId>
                        <version>1.3.1</version>
                        <scope>runtime</scope>
                    </dependency>
                </dependencies>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <configuration>
                    <source>1.5</source>
                    <target>1.5</target>
                </configuration>
            </plugin>
            ...
        </plugins>
    </build>
</project>
-->
        </section>
        <section name="Using Mojo Annotations">
            <h3>NOTE</h3>
            <p>
                This plugin relies on JDK 1.5 and uses the Annotation Processing Tool (APT).
                It is required to run Maven with JDK 1.5 or later (set your JAVA_HOME to point to the JDK not the JRE).
            </p>
            <h3>Class and Field Annotations</h3>
            <p>
                The <a href="maven-plugin-anno/project-reports.html">Anno Mojo API project reports</a>
                has the javadoc that can help.
            </p>
            <h3>Simple Example</h3>
            <p><div>
                <!-- Taken from MyMojo.java test -->
<pre style="line-height: 130%;font-family:monospace;background-color:#ffffff; border-width:0.01mm; border-color:#000000; border-style:solid; padding:4px;"><span style="color:#808080;background-color:#ffffff;font-style:italic;">/**
 * My mojo description
 */
</span><span style="color:#808000;background-color:#ffffff;">@MojoGoal(</span><span style="color:#008000;background-color:#ffffff;font-weight:bold;">"doIt"</span><span style="background-color:#ffffff;">)
</span><span style="color:#808000;background-color:#ffffff;">@MojoPhase(</span><span style="color:#008000;background-color:#ffffff;font-weight:bold;">"package"</span><span style="background-color:#ffffff;">)
</span><span style="color:#808000;background-color:#ffffff;">@MojoExecute(</span><span style="background-color:#ffffff;">phase = </span><span style="color:#008000;background-color:#ffffff;font-weight:bold;">"package"</span><span style="background-color:#ffffff;">)
</span><span style="color:#000080;background-color:#ffffff;font-weight:bold;">public</span><span style="background-color:#ffffff;"> </span><span style="color:#000080;background-color:#ffffff;font-weight:bold;">class</span><span style="background-color:#ffffff;"> </span><span style="color:#999900;background-color:#ffffff;font-weight:bold;">MyMojo </span><span style="background-color:#ffffff;">{

    </span><span style="color:#808000;background-color:#ffffff;">@MojoParameter
    </span><span style="color:#000080;background-color:#ffffff;font-weight:bold;">private</span><span style="background-color:#ffffff;"> </span><span style="color:#008000;background-color:#ffffff;font-weight:bold;">List&lt;Artifact&gt;</span><span style="background-color:#ffffff;"> </span><span style="color:#660e7a;background-color:#ffffff;font-weight:bold;">artifacts;

</span><span style="background-color:#ffffff;">    </span><span style="color:#808000;background-color:#ffffff;">@MojoParameter(</span><span style="background-color:#ffffff;">expression = </span><span style="color:#008000;background-color:#ffffff;font-weight:bold;">"${project}"</span><span style="background-color:#ffffff;">, required = </span><span style="color:#000080;background-color:#ffffff;font-weight:bold;">true</span><span style="background-color:#ffffff;">, readonly = </span><span style="color:#000080;background-color:#ffffff;font-weight:bold;">true</span><span style="background-color:#ffffff;">,
            description = </span><span style="color:#008000;background-color:#ffffff;font-weight:bold;">"The Maven Project"</span><span style="background-color:#ffffff;">)
    </span><span style="color:#000080;background-color:#ffffff;font-weight:bold;">private</span><span style="background-color:#ffffff;"> </span><span style="color:#999900;background-color:#ffffff;font-weight:bold;">MavenProject </span><span style="color:#660e7a;background-color:#ffffff;font-weight:bold;">project;

</span><span style="background-color:#ffffff;">    </span><span style="color:#808080;background-color:#ffffff;font-style:italic;">/**
     * The local repository
     */
</span><span style="background-color:#ffffff;">    </span><span style="color:#808000;background-color:#ffffff;">@MojoParameter(</span><span style="background-color:#ffffff;">expression = </span><span style="color:#008000;background-color:#ffffff;font-weight:bold;">"${localRepository}"</span><span style="background-color:#ffffff;">)
    </span><span style="color:#000080;background-color:#ffffff;font-weight:bold;">private</span><span style="background-color:#ffffff;"> </span><span style="color:#008000;background-color:#ffffff;font-weight:bold;">ArtifactRepository </span><span style="color:#660e7a;background-color:#ffffff;font-weight:bold;">localRepository;

</span><span style="background-color:#ffffff;">    ...
}
</span></pre>
            </div></p>
            <p>
                Element description is taken either from the element's JavaDoc comment or from a "description" attribute on appropriate annotations.
            </p>
            <h3>Getter Methods Annotations</h3>
            <p>
                You can also use field annotations on getter methods, either in interfaces or regular classes.<br/>
                For example:
            </p>
            <p><div>
                <!-- Taken from MvnAnnoIfc.java test -->
<pre style="line-height: 130%;font-family:monospace;background-color:#ffffff; border-width:0.01mm; border-color:#000000; border-style:solid; padding:4px;"><span style="color:#000080;background-color:#ffffff;font-weight:bold;">public</span><span style="background-color:#ffffff;"> </span><span style="color:#000080;background-color:#ffffff;font-weight:bold;">interface</span><span style="background-color:#ffffff;"> </span><span style="color:#008000;background-color:#ffffff;font-weight:bold;">MvnAnnoIfc </span><span style="background-color:#ffffff;">{
    </span><span style="color:#808000;background-color:#ffffff;">@MojoComponent(</span><span style="background-color:#ffffff;">description =
        </span><span style="color:#008000;background-color:#ffffff;font-weight:bold;">"project-helper instance, used to make addition of resources simpler."</span><span style="background-color:#ffffff;">)
    </span><span style="color:#008000;background-color:#ffffff;font-weight:bold;">MavenProjectHelper </span><span style="background-color:#ffffff;">getProjectHelper();
}
</span></pre>
            </div></p>
        </section>
        <section name="Jade Plugins">
            <p>
                A good start for Maven Anno Mojo, is to use
                <a href="/sites/jade-plugins/latest/index.html">Jade Plugins</a>
                common jars. Jade Plugins has also
                many standard maven plugins converted to Java5 with Generics and Annotations.
            </p>
        </section>
    </body>
</document>